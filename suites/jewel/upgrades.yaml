tests:
   - test:
      name: install ceph pre-requisities
      module: install_prereq.py
      abort-on-fail: True
   - test:
      name: ceph ansible install rhcs 2 stable
      module: test_ansible.py
      config:
         use_cdn: True
         build: '2.0'
         ansi_config:
            ceph_test: True
            ceph_origin: repository
            ceph_repository: rhcs
            ceph_repository_type: cdn
            ceph_rhcs_version: 2
            ceph_stable_release: jewel
            ceph_rhcs_cdn_debian_repo: https://redhat:OgYZNpkj6jZAIF20XFZW0gnnwYBjYcmt7PeY76bLHec9@rhcs.download.redhat.com
            ceph_rhcs_cdn_debian_repo_version: /2-release/
            osd_scenario: collocated
            osd_auto_discovery: False
            journal_size: 1024
            public_network: 172.16.0.0/12
            copy_admin_key: True
            ceph_conf_overrides:
               global:
                  osd_pool_default_pg_num: 128
                  osd_default_pool_size: 2
                  osd_pool_default_pgp_num: 128
                  mon_max_pg_per_osd: 4096
                  mon_allow_pool_delete: True
               client:
                  rgw crypt require ssl: false
                  rgw crypt s3 kms encryption keys: testkey-1=YmluCmJvb3N0CmJvb3N0LWJ1aWxkCmNlcGguY29uZgo=
                    testkey-2=aWIKTWFrZWZpbGUKbWFuCm91dApzcmMKVGVzdGluZwo=
      desc: test cluster setup using ceph-ansible
      abort-on-fail: True
   - test:
      name: ceph ansible upgrade to rhcs 2 nightly
      module: test_ansible_upgrade.py
      config:
         build: '2.x'
         ansi_config:
            ceph_test: True
            ceph_origin: distro
            ceph_repository: rhcs
            ceph_rhcs_version: 2
            ceph_stable_release: jewel
            ceph_rhcs_cdn_debian_repo: https://redhat:OgYZNpkj6jZAIF20XFZW0gnnwYBjYcmt7PeY76bLHec9@rhcs.download.redhat.com
            ceph_rhcs_cdn_debian_repo_version: /2-release/
            osd_scenario: collocated
            osd_auto_discovery: True
            upgrade_ceph_packages: True
            public_network: 172.16.0.0/12
            copy_admin_key: True
            ceph_conf_overrides:
               global:
                  osd_pool_default_pg_num: 128
                  osd_default_pool_size: 2
                  osd_pool_default_pgp_num: 128
                  mon_max_pg_per_osd: 4096
                  mon_allow_pool_delete: True
               client:
                  rgw crypt require ssl: false
                  rgw crypt s3 kms encryption keys: testkey-1=YmluCmJvb3N0CmJvb3N0LWJ1aWxkCmNlcGguY29uZgo=
                   testkey-2=aWIKTWFrZWZpbGUKbWFuCm91dApzcmMKVGVzdGluZwo=
      desc: Test Ceph-Ansible rolling update - 2.0 -> 2.x
      abort-on-fail: True
